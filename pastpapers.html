<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, shrink-to-fit=no">
    <meta name="description" content="Access past papers for various levels and subjects from Kageyo TVET School, including resources from 2013 to 2023.">
    <meta name="keywords" content="Kageyo past papers, S3 Mathematics, S3 Entrepreneurship, S3 Physics, S3 Chemistry, S3 Software Development, S3 Accounting, Kageyo TVET School">
    <meta name="author" content="Kageyo TVET School">
    <meta name="robots" content="index, follow">
    <title>Past Papers | Kageyo TVET School</title>
    <link rel="icon" href="/_assets/848a49247fad16e632dbfe56b131f2ac/Images/Coat.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css" integrity="sha512-rt/SrQ4UNIaGfDyEXZtNcyWvQeOq0QLygHluFQcSjaGB04IxWhal71tKuzP6K8eYXYB6vJV4pHkXcmFGGQ1/0w==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-WXKQHDL"></script>
    <script>
      (function(w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-WXKQHDL');
    </script>

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
        }
        .gov_navbar {
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .navbar-brand img {
            height: 70px;
            width: auto;
        }
        .nav-link {
            color: #005670 !important;
            font-weight: 500;
            text-transform: uppercase;
            padding: 10px 15px !important;
        }
        .nav-link:hover, .nav-link.active {
            color: #078ece !important;
        }
        .hero-bg {
            background-image: url('WEB_1.JPG');
            background-size: cover;
            background-position: center;
            height: 300px;
            position: relative;
            color: white;
        }
        .hero-overlay {
            background: rgba(0, 0, 0, 0.5);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        .selector-section {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.25rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        .selector-form {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .selector-form select, .selector-form button {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            font-size: 1rem;
        }
        .selector-form button {
            background-color: #078ece;
            color: white;
            border: none;
        }
        .selector-form button:hover {
            background-color: #005670;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            background-color: #fff;
        }
        .table th {
            background-color: #078ece;
            color: white;
            padding: 0.75rem;
            text-align: left;
            border: none;
        }
        .table td {
            padding: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .table tr:hover {
            background-color: #e3f2fd;
        }
        .table img {
            height: 30px;
            width: 30px;
        }
        .admin-upload-modal, .admin-login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        .admin-upload-modal.active, .admin-login-modal.active {
            display: flex;
        }
        .admin-upload-container, .admin-login-container {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.25rem;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .admin-upload-container h2, .admin-login-container h2 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #078ece;
            margin-bottom: 1rem;
        }
        .admin-upload-container input, .admin-upload-container select,
        .admin-login-container input, .admin-login-container select {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.25rem;
            font-size: 1rem;
        }
        .admin-upload-container button, .admin-login-container button {
            width: 100%;
            padding: 0.75rem;
            background-color: #078ece;
            color: white;
            border: none;
            border-radius: 0.25rem;
            font-size: 1rem;
            cursor: pointer;
        }
        .admin-upload-container button:hover, .admin-login-container button:hover {
            background-color: #005670;
        }
        #admin-upload-error, #admin-login-error {
            color: #dc3545;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            display: none;
        }
        #section_footer {
            background-color: #005670;
            color: white;
            padding: 2rem 0;
        }
        .f-menu li a {
            color: white;
            line-height: 25px;
            padding: 5px 0 5px 15px;
        }
        .f-menu li a:hover {
            color: #078ece;
        }
        #backToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #078ece;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        #backToTop:hover {
            background: #005670;
        }
        @media (max-width: 768px) {
            .selector-form select {
                min-width: 100%;
            }
            .footer-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body onload="myFunction()">
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXKQHDL" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

    <div id="loader" class="text-center" aria-live="polite">Loading site</div>

    <nav class="navbar navbar-expand-lg navbar-light gov_navbar">
        <div class="container-fluid">
            <a href="index.html" class="navbar-brand">
                <img src="logo.jpg" alt="Kageyo TVET School Logo" height="70">
                <p class="txt_subtitle fnt_black mabo0">KAGEYO TVET SCHOOL</p>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="apply.html">Apply for a Job</a></li>
                    <li class="nav-item"><a class="nav-link" href="administration.html">Administration</a></li>
                    <li class="nav-item"><a class="nav-link" href="trainers.html">Trainers</a></li>
                    <li class="nav-item"><a class="nav-link" href="trades.html">Trades</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="news.html">News</a>
                            <a class="dropdown-item" href="events.html">Events</a>
                            <a class="dropdown-item" href="announcements.html">Announcements</a>
                            <a class="dropdown-item" href="best-performers.html">Best Performers</a>
                            <a class="dropdown-item" href="head-teacher.html">Head Teacher</a>
                            <a class="dropdown-item" href="student-papers.html">Student Papers</a>
                            <a class="dropdown-item" href="pastpapers.html">Past Papers</a>
                            <a class="dropdown-item" href="employee-of-the-year.html">Employee of the Year</a>
                            <a class="dropdown-item" href="forum.html">Forum</a>
                            <a class="dropdown-item" href="developers.html">Developers</a>
                            <a class="dropdown-item" href="student-projects.html">Student Projects</a>
                        </div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main role="main">
        <section class="hero-bg py-5 text-white text-center relative">
            <div class="hero-overlay"></div>
            <div class="container relative z-10">
                <h2 class="text-3xl font-bold mb-2">Past Papers</h2>
                <p class="text-lg">Access past examination papers to prepare for your exams</p>
            </div>
        </section>

        <section class="py-5 bg-light">
            <div class="container">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Past Papers</li>
                    </ol>
                </nav>
                <div class="selector-section">
                    <h2 class="text-2xl font-bold text-dark mb-4">Select Past Papers</h2>
                    <form id="paper-selector" class="selector-form">
                        <select id="year-select" aria-label="Select Year">
                            <option value="">Select Year</option>
                        </select>
                        <select id="level-select" aria-label="Select Level" disabled>
                            <option value="">Select Level</option>
                        </select>
                        <select id="subject-select" aria-label="Select Subject" disabled>
                            <option value="">Select Subject</option>
                        </select>
                        <button type="submit" id="view-papers">View Papers</button>
                    </form>
                    <button id="admin-upload-btn" class="mt-3 btn btn-primary" aria-label="Open admin upload form">Upload Past Paper</button>
                </div>
                <div id="papers-results" class="mt-4"></div>
            </div>
        </section>
    </main>

    <div class="container-fluid" id="section_footer">
        <div class="container">
            <div class="row d-flex">
                <div class="col-12 col-lg-3 col-md-3 col-sm-3 pad32">
                    <p class="txt_title txt_blue fnt_black mabo32">Useful Links</p>
                    <ul class="txt_content txt_white f-menu list-unstyled">
                        <li><a href="http://www.mineduc.gov.rw" target="_blank" class="txt_white">Mineduc</a></li>
                        <li><a href="http://www.reb.rw" target="_blank" class="txt_white">REB</a></li>
                        <li><a href="http://www.rp.ac.rw" target="_blank" class="txt_white">Rwanda Polytechnic</a></li>
                    </ul>
                </div>
                <div class="col-12 col-lg-3 col-md-3 col-sm-3 pad32">
                    <p class="txt_title txt_blue fnt_black mabo32">Contact Us</p>
                    <p class="txt_content txt_white"><i class="fas fa-envelope-open mr-3"></i>info@kageyotvet.rw</p>
                    <p class="txt_content txt_white"><i class="fas fa-phone mr-3"></i>0788521465</p>
                </div>
                <div class="col-12 col-lg-6 col-md-6 col-sm-6">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3987.5058211904125!2d30.114454650731606!3d-1.950845337256338!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19dca703e4bfc46d%3A0xbb5a945e923c87dd!2sKG%2017%20Ave%2C%20Kigali!5e0!3m2!1sen!2srw!4v1622194342277!5m2!1sen!2srw" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2025 Kageyo TVET School. All rights reserved.</p>
            </div>
        </div>
    </div>

    <button onclick="topFunction()" id="backToTop" title="Go to top">â†‘<br><span class="txt_info txt_grey">Back top</span></button>

    <div id="admin-upload-modal" class="admin-upload-modal" aria-modal="true" role="dialog" aria-label="Admin Upload Past Paper">
        <div class="admin-upload-container">
            <h2>Upload Past Paper</h2>
            <div id="admin-upload-error">Invalid password or incomplete form. Please try again.</div>
            <input id="admin-upload-password" type="password" placeholder="Password" aria-label="Password">
            <input id="admin-upload-year" type="number" placeholder="Year (e.g., 2024)" aria-label="Year">
            <select id="admin-upload-level" aria-label="Select Level">
                <option value="">Select Level</option>
                <option value="S3">S3</option>
            </select>
            <select id="admin-upload-subject" aria-label="Select Subject">
                <option value="">Select Subject</option>
                <option value="Mathematics">Mathematics</option>
                <option value="Entrepreneurship">Entrepreneurship</option>
                <option value="Physics">Physics</option>
                <option value="Chemistry">Chemistry</option>
                <option value="Software Development">Software Development</option>
                <option value="Accounting">Accounting</option>
            </select>
            <input id="admin-upload-url" type="text" placeholder="URL (e.g., Google Drive link)" aria-label="URL">
            <input id="admin-upload-size" type="text" placeholder="Size (e.g., 1.5 MB)" aria-label="Size">
            <input id="admin-upload-name" type="text" placeholder="Name (e.g., Mathematics S3 2024.pdf)" aria-label="Name">
            <button id="admin-upload-submit" class="btn btn-primary">Upload</button>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.min.js"></script>
    <script>
        // Past Papers Data
        const pastPapers = {
            'S3': {
                'Mathematics': {
                    2023: { url: 'https://drive.google.com/open?id=1gxBNVLn9-b_y5T8896B5qU041dMiw7Oz&usp=drive_copy', size: '1.6 MB', name: 'Mathematics S3 2023.pdf' },
                    2021: { url: 'https://drive.google.com/file/d/1aqvZ5-PYKOJGiALKUKk_mEPj4RpTsMT/view', size: '1.5 MB', name: 'Mathematics S3 2021.pdf' },
                    2018: { url: 'https://drive.google.com/file/d/1HlXs64hGZaWiHTIMY-qXyjGHVeJ97r/view', size: '1.7 MB', name: 'Mathematics S3 2018.pdf' },
                    2017: { url: 'https://drive.google.com/file/d/1i6gy94bZjEndMZm4cPH4x-je6j4kNYL/view', size: '1.6 MB', name: 'Mathematics S3 2017.pdf' },
                    2016: { url: 'https://drive.google.com/file/d/1iNRH6_u4V_Np3VmDy-4qxVac1FwDcJnZ/view', size: '1.5 MB', name: 'Mathematics S3 2016.pdf' },
                    2015: { url: 'https://drive.google.com/file/d/16Jqn2-ICpuIyoVlginEfNy7eazgZaSj/view', size: '1.6 MB', name: 'Mathematics S3 2015.pdf' },
                    2014: { url: 'https://drive.google.com/file/d/1lndVkQNK3-nL2Zz_Ee6Zjxyy1Rabinn2/view', size: '1.5 MB', name: 'Mathematics S3 2014.pdf' },
                    2013: { url: 'https://drive.google.com/file/d/1J5wEgU1kf3jcqtasCli52S6B3FoIBB6/view', size: '1.8 MB', name: 'Mathematics S3 2013.pdf' }
                },
                'Entrepreneurship': {
                    2023: { url: 'https://drive.google.com/open?id=1lsB-nnVQpYa8oiDy3JqtcPHsQtXnBSFP&usp=drive_copy', size: '1.4 MB', name: 'Entrepreneurship S3 2023.pdf' },
                    2021: { url: 'https://drive.google.com/file/d/1MsEPDIvRIWpWevDqDUZTuWdfnrzGq_2/view', size: '1.3 MB', name: 'Entrepreneurship S3 2021.pdf' },
                    2019: { url: 'https://drive.google.com/file/d/1Mjdj6zXCGNU6cxfNq_7HFWXFkDmIWgl/view', size: '1.5 MB', name: 'Entrepreneurship S3 2019.pdf' },
                    2018: { url: 'https://drive.google.com/file/d/1nIUlKfOOh9uaI3d5H5OmTNpt2emwzxtr/view', size: '1.4 MB', name: 'Entrepreneurship S3 2018.pdf' },
                    2017: { url: 'https://drive.google.com/file/d/1-zhSIGAkTd81R4Tzvyu8mHJOljpJxsSB/view', size: '1.3 MB', name: 'Entrepreneurship S3 2017.pdf' },
                    2016: { url: 'https://drive.google.com/file/d/1LdHADlk2k4CV4r6Uw2UNzbNzH5pDiDyP/view', size: '1.4 MB', name: 'Entrepreneurship S3 2016.pdf' },
                    2015: { url: 'https://drive.google.com/file/d/1A4UidPsFPtulb8wWqyRUSZoxvfkB4qq/view', size: '1.3 MB', name: 'Entrepreneurship S3 2015.pdf' }
                },
                'Physics': {
                    2023: { url: 'https://drive.google.com/open?id=1D2QvpI4xdFrQAQ5TaVD8t6eXDtPRALgD&usp=drive_copy', size: '1.4 MB', name: 'Physics S3 2023.pdf' },
                    2021: { url: 'https://drive.google.com/file/d/1-fJgNIu1DQP38zsMki5sWuKDmFvieN1w/view', size: '1.3 MB', name: 'Physics S3 2021.pdf' },
                    2019: { url: 'https://drive.google.com/file/d/1EtY5lxHBjWadOAPhoUbtjXXw6W56Efba/view', size: '1.5 MB', name: 'Physics S3 2019.pdf' },
                    2018: { url: 'https://drive.google.com/file/d/1Um-9OVbLx43RNecdU5nCPv9GfyrIs-W3/view', size: '1.4 MB', name: 'Physics S3 2018.pdf' },
                    2017: { url: 'https://drive.google.com/file/d/1G8T6zOUOp2nqRZbTX9ER1WA4a3_aRX5/view', size: '1.3 MB', name: 'Physics S3 2017.pdf' },
                    2016: { url: 'https://drive.google.com/file/d/1-cFEFxDt4IEwLrjfhp8EY2zo8TxeJ/view', size: '1.4 MB', name: 'Physics S3 2016.pdf' },
                    2015: { url: 'https://drive.google.com/file/d/1xBtq-JWgV1FFkXPY-hGKMkiAsAOR9XXy/view', size: '1.3 MB', name: 'Physics S3 2015.pdf' }
                },
                'Chemistry': {
                    2023: { url: 'https://drive.google.com/open?id=1XGVbbVTOZKkmMuXOm8cNkAXNt8Wdeta-&usp=drive_copy', size: '1.5 MB', name: 'Chemistry S3 2023.pdf' },
                    2021: { url: 'https://drive.google.com/file/d/16DrVd1oaEn6WmB1Kx7hc89exnANVh5Mp/view', size: '1.4 MB', name: 'Chemistry S3 2021.pdf' },
                    2019: { url: 'https://drive.google.com/file/d/1DejfKQ-6C2GTh8KzabDIWuyEMA-iNK9/view', size: '1.5 MB', name: 'Chemistry S3 2019.pdf' },
                    2018: { url: 'https://drive.google.com/file/d/1q1lWcQ5nJJJeMoLsIuy9S7dUKJaVqwt/view', size: '1.4 MB', name: 'Chemistry S3 2018.pdf' },
                    2017: { url: 'https://drive.google.com/file/d/1YIJckF9OrVkX-d6ccQpoRcAwfa6jEbkh/view', size: '1.4 MB', name: 'Chemistry S3 2017.pdf' },
                    2016: { url: 'https://drive.google.com/file/d/1_Pq4j1Sd6FKzXwJiVpKtwMaR4idpylPG/view', size: '1.3 MB', name: 'Chemistry S3 2016.pdf' },
                    2015: { url: 'https://drive.google.com/file/d/18BqC7IX4zTC97nHFfInEkjSJZLFX6tiU/view', size: '1.4 MB', name: 'Chemistry S3 2015.pdf' },
                    2013: { url: 'https://drive.google.com/file/d/1GdZVx_WHVhNWE4xdvZAafQgr5J9pM-Bh/view', size: '1.5 MB', name: 'Chemistry S3 2013.pdf' }
                },
                'Software Development': {
                    2023: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86544&token=8b5255fed4e0e74b750dd39539bc5fc277c78c65', size: '1.2 MB', name: 'Website Development and Maintenance 2023.pdf' },
                    2022: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86548&token=f81f6ba5c988c0c3e10dbf753ad898f7ba62811a', size: '1.3 MB', name: 'System Analysis 2022.pdf' },
                    2021: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86546&token=4a9d3d57830fc06e6abb3e5a15d5e418ba0f7aea', size: '1.2 MB', name: 'Web Application Development 2021.pdf' },
                    2020: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86551&token=0f2686b69d1bfe4823a3af50f7dec4a3b5f3b55a', size: '1.4 MB', name: 'Database Development 2020.pdf' },
                    2019: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86543&token=bf6bcbf126bc954c84b59ff027fe0f0f8206526b', size: '1.3 MB', name: 'Algorithm and Programming 2019.pdf' }
                },
                'Accounting': {
                    2023: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86566&token=30651e158a63f122c70d204ec73f8c1a981809b0', size: '1.5 MB', name: 'Taxation 2023.pdf' },
                    2022: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86568&token=a7922c39bfc5d77048259617fc6d9f2a01a888eb', size: '1.4 MB', name: 'Bank Accounting 2022.pdf' },
                    2021: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86555&token=32eb461f75a19b6c95beeb4abc9f7681f7ff4336', size: '1.3 MB', name: 'Business Management 2021.pdf' },
                    2020: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86561&token=0e811854274607f74422a2bba88b5cfa74b10e4a', size: '1.4 MB', name: 'Financial Accounting 2020.pdf' },
                    2019: { url: 'https://www.nesa.gov.rw/index.php?eID=dumpFile&t=f&f=86560&token=7b58949aaeac30c261ea6aeccd0e4dc96d71d914', size: '1.3 MB', name: 'Principles of Auditing 2019.pdf' }
                }
            }
        };

        // Years list
        let years = Array.from(new Set(Object.values(pastPapers['S3']).flatMap(subj => Object.keys(subj)))).sort((a, b) => b - a);

        // Levels
        const levels = ['S3'];

        // Subjects
        let subjects = Object.keys(pastPapers['S3']);

        // Populate year select
        const yearSelect = document.getElementById('year-select');
        function populateYears() {
            yearSelect.innerHTML = '<option value="">Select Year</option>';
            years.forEach(year => {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            });
        }
        populateYears();

        // Populate level select
        const levelSelect = document.getElementById('level-select');
        levels.forEach(level => {
            const option = document.createElement('option');
            option.value = level;
            option.textContent = level;
            levelSelect.appendChild(option);
        });

        // Populate subject select
        const subjectSelect = document.getElementById('subject-select');
        function populateSubjects() {
            subjectSelect.innerHTML = '<option value="">Select Subject</option>';
            subjects.forEach(subject => {
                const option = document.createElement('option');
                option.value = subject;
                option.textContent = subject;
                subjectSelect.appendChild(option);
            });
        }
        populateSubjects();

        // Enable dropdowns on selection
        yearSelect.addEventListener('change', () => {
            levelSelect.disabled = false;
        });

        levelSelect.addEventListener('change', () => {
            subjectSelect.disabled = false;
        });

        // Handle form submit
        const paperForm = document.getElementById('paper-selector');
        paperForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const year = yearSelect.value;
            const level = levelSelect.value;
            const subject = subjectSelect.value;

            if (!year || !level || !subject) {
                alert('Please select year, level, and subject.');
                return;
            }

            const resultsDiv = document.getElementById('papers-results');
            resultsDiv.innerHTML = '';

            const paper = pastPapers[level]?.[subject]?.[year];

            if (paper) {
                const table = document.createElement('table');
                table.className = 'table';
                table.innerHTML = `
                    <thead>
                        <tr>
                            <th scope="col" style="border-top: #ffffff"></th>
                            <th scope="col" style="border-top: #ffffff">Title</th>
                            <th scope="col" style="border-top: #ffffff">Info</th>
                            <th scope="col" style="border-top: #ffffff">Modified</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><img src="/_assets/66cbc405a3428af12cda556e4b40bdb3/Icons/Folders/folder_thumbnail.png" height="30px" width="30px"/></td>
                            <td><a href="${paper.url}" target="_blank">${paper.name}</a></td>
                            <td>${paper.size}</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                `;
                resultsDiv.appendChild(table);
            } else {
                resultsDiv.innerHTML = '<p class="text-danger">No past paper available for this selection.</p>';
            }
        });

        // Admin Upload Modal
        const adminUploadModal = document.getElementById('admin-upload-modal');
        const adminUploadBtn = document.getElementById('admin-upload-btn');
        const adminUploadSubmit = document.getElementById('admin-upload-submit');
        const adminUploadPassword = document.getElementById('admin-upload-password');
        const adminUploadYear = document.getElementById('admin-upload-year');
        const adminUploadLevel = document.getElementById('admin-upload-level');
        const adminUploadSubject = document.getElementById('admin-upload-subject');
        const adminUploadUrl = document.getElementById('admin-upload-url');
        const adminUploadSize = document.getElementById('admin-upload-size');
        const adminUploadName = document.getElementById('admin-upload-name');
        const adminUploadError = document.getElementById('admin-upload-error');

        adminUploadBtn.addEventListener('click', () => {
            adminUploadModal.classList.add('active');
            adminUploadPassword.focus();
        });

        adminUploadSubmit.addEventListener('click', () => {
            const password = adminUploadPassword.value.trim();
            const year = adminUploadYear.value.trim();
            const level = adminUploadLevel.value;
            const subject = adminUploadSubject.value;
            const url = adminUploadUrl.value.trim();
            const size = adminUploadSize.value.trim();
            const name = adminUploadName.value.trim();

            if (password !== '1234' || !year || !level || !subject || !url || !size || !name) {
                adminUploadError.style.display = 'block';
                adminUploadPassword.focus();
                return;
            }

            // Update pastPapers object
            if (!pastPapers[level]) {
                pastPapers[level] = {};
            }
            if (!pastPapers[level][subject]) {
                pastPapers[level][subject] = {};
                if (!subjects.includes(subject)) {
                    subjects.push(subject);
                    populateSubjects();
                }
            }
            pastPapers[level][subject][year] = { url, size, name };

            // Update years list
            if (!years.includes(year)) {
                years.push(year);
                years.sort((a, b) => b - a);
                populateYears();
            }

            // Reset form and close modal
            adminUploadError.style.display = 'none';
            adminUploadPassword.value = '';
            adminUploadYear.value = '';
            adminUploadLevel.value = '';
            adminUploadSubject.value = '';
            adminUploadUrl.value = '';
            adminUploadSize.value = '';
            adminUploadName.value = '';
            adminUploadModal.classList.remove('active');

            // Notify success
            alert('Past paper added successfully!');
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && adminUploadModal.classList.contains('active')) {
                adminUploadModal.classList.remove('active');
            }
        });

        // Back to top
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });

        // Loader
        function myFunction() {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>